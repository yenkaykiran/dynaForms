<div flex layout="row" ng-controller="HomeController" style="height: 100%">
    <md-content flex id="content">
        <md-toolbar>
			<div class="md-toolbar-tools">
				<md-button class="md-icon-button" aria-label="Menu">
					<i class="material-icons">menu</i>
				</md-button>
				<h2><a href="#/">{{app.name}}</a></h2><p ng-show="pageTitle">&nbsp;&nbsp;&gt;&nbsp;&nbsp;<span><h3>{{pageTitle}}</h3></span></p>
				<span flex></span>
			</div>
		</md-toolbar>
        <md-content style="height: 100%" flex>
            <md-button class="md-fab md-primary md-hue-2" aria-label="Import XML" ng-click="filePicker()">
                <label for="picker">
                    <i class="material-icons">import_contacts</i>
                    <md-tooltip>Choose XML File to Import</md-tooltip>
               </label>
            </md-button>
            <md-button ng-click="xml2Html()" style="margin-right:20px;" ng-disabled="!xml"> Convert Now </md-button>
            <md-button ng-click="saveHTML()" style="margin-right:20px;" ng-disabled="!html"> Save As HTML </md-button>
            <md-button ng-click="launch()" style="margin-right:20px;" ng-disabled="!html"> Launch Page in New Window </md-button>
            <input id="picker" type="file" style="display:none;" xml-reader="xml" />
            <md-tabs  md-dynamic-height md-border-bottom>
               <md-tab label="XML Content">
                <md-input-container class="md-block" flex-gt-xs>
	                <textarea rows="24" ng-model="xml"></textarea>
	            </md-input-container>
               </md-tab>
               <md-tab label="HTML Preview" ng-disabled="!html">
                  <div class="md-dialog-content" flex>
                    <script type="text/ng-template" id="nodes_renderer.html">
                        <div ui-tree-handle class="tree-node tree-node-content">
                            <div ng-if="node.nodes">
                                <fieldset ng-if="node.nodes.length > 1">
                                    <legend>{{node.title}}
                                    </legend>
                                    <span>
                                        <span ng-repeat="node in node.nodes" ui-tree-node ng-include="'nodes_renderer.html'">
                                            <label>{{node.title}}: </label><input type="text" value="{{node.value}}" name="{{node.name}}"><button class="md-button md-ink-ripple" type="button" ng-click="newSubItem(this)"><span class="ng-scope"> + </span></button><button class="md-button md-ink-ripple" type="button" ng-click="remove(this)"><span class="ng-scope"> - </span></button>
                                            <br />
                                        </span>
                                    </span>
                                </fieldset>
                                <span>
                                    <span ng-repeat="node in node.nodes" ui-tree-node ng-include="'nodes_renderer.html'">
                                        <label>{{node.title}}: </label><input type="text" value="{{node.value}}" name="{{node.name}}"><button class="md-button md-ink-ripple" type="button" ng-click="newSubItem(this)"><span class="ng-scope"> + </span></button><button class="md-button md-ink-ripple" type="button" ng-click="remove(this)"><span class="ng-scope"> - </span></button>
                                        <br />
                                    </span>
                                </span>
                            </div>
                        </div>
                    </script>
                    <div ui-tree id="tree-root">
                        <span ui-tree-nodes ng-model="nodes">
                            <span ng-repeat="node in nodes.nodes" ui-tree-node ng-include="'nodes_renderer.html'">
                                <label>{{node.title}}: </label><input type="text" value="{{node.value}}" name="{{node.name}}"><button class="md-button md-ink-ripple" type="button" ng-click="newSubItem(this)"><span class="ng-scope"> + </span></button><button class="md-button md-ink-ripple" type="button" ng-click="remove(this)"><span class="ng-scope"> - </span></button>
                                <br />
                            </span>
                        </span>
                    </div>
                  </div>
               </md-tab>
            </md-tabs>
        </md-content>
    </md-content>
</div>